% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mk.dosage.file.r
\name{mk.dosage.file}
\alias{mk.dosage.file}
\title{Convert VCF to file-backed dosage matrix}
\usage{
mk.dosage.file(vcf.file, dosage.file, regions)
}
\arguments{
\item{vcf.file}{A character string specifying the path to the input VCF file (gzipped and tabix-indexed recommended).}

\item{dosage.file}{A string prefix for output files (will generate `dosage.dosf`, `.bim`, `.fam`, `.dosf.desc`).}

\item{regions}{An optional character vector of genomic regions to extract (e.g., `"19:320000-700000"`). If omitted, the full file is read.}
}
\value{
This function is called for its side effects. It returns `invisible(NULL)`.
}
\description{
Converts genotype data from a VCF file into a file-backed matrix (dosages), and generates associated `.bim` and `.fam` files.
This enables interoperability with tools, and allows access via the `bigmemory` package.
}
\details{
This function performs the following:
\itemize{
  \item Extracts genotype dosage values (typically from the `"DS"` FORMAT field).
  \item Stores them in a `.dosf` file as a binary float matrix.
  \item Creates a `.bim` file containing SNP metadata (e.g., ID, CHR, POS, A1, A2).
  \item Creates a `.fam` file with sample information (family ID, individual ID, father ID, mother ID, sex, phenotype).
  \item Writes a `.desc` file to allow attaching the `.dosf` file via [bigmemory::attach.big.matrix()].
}
Files that already exist are not overwritten.
}
\examples{
mk.dosage.file("inst/extdata/example.vcf.gz", "/tmp/essai")
# Attach it as a bigmemory matrix:
dosages <- bigmemory::attach.big.matrix("/tmp/essai.dosf.desc")

}
\seealso{
[bigmemory::attach.big.matrix()], [mk.descriptor.file()]
}
